# Recorder é¡¹ç›®å¼€å‘æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Recorder æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ VS Code æ‰©å±•ï¼Œèƒ½å¤Ÿæ™ºèƒ½æ•è·å¼€å‘è€…çš„æ•´ä¸ªå¼€å‘è¿‡ç¨‹â€”â€”ä»ç»ˆç«¯å‘½ä»¤åˆ°æ–‡ä»¶æ“ä½œå’Œä»£ç ä¿®æ”¹ã€‚å¸®åŠ©å¼€å‘è€…è®°å½•å¤æ‚çš„å·¥ä½œæµç¨‹ï¼Œç”Ÿæˆæ ‡å‡†æ“ä½œæµç¨‹ï¼ˆSOPï¼‰ï¼Œå®ç°"è®°å½•ä¸€æ¬¡ï¼Œæ°¸ä¹…é‡ç”¨"çš„ç›®æ ‡ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **å®Œæ•´å·¥ä½œæµæ•è·**: å®æ—¶è®°å½•ç»ˆç«¯å‘½ä»¤ã€æ–‡ä»¶æ“ä½œå’Œä»£ç å˜æ›´
- **æ™ºèƒ½ Git é›†æˆ**: è‡ªåŠ¨æ£€æµ‹ Git è·Ÿè¸ªæ–‡ä»¶ï¼Œæ•è·æœ‰æ„ä¹‰çš„å·®å¼‚è€Œä¸æ˜¯å®Œæ•´å†…å®¹
- **æ™ºèƒ½è¿‡æ»¤**: è‡ªåŠ¨éµå¾ª `.gitignore` æ¨¡å¼ï¼Œæ’é™¤ `.git` ç›®å½•
- **ç»“æ„åŒ–è¾“å‡º**: ç”Ÿæˆæ¸…æ™°ã€å¸¦æ—¶é—´æˆ³çš„ JSON æ—¥å¿—ï¼Œä¾¿äºè‡ªåŠ¨åŒ–å’Œæ–‡æ¡£ç”Ÿæˆ
- **é›¶é…ç½®**: å¼€ç®±å³ç”¨ï¼Œæ”¯æŒä»»ä½•å·¥ä½œç©ºé—´
- **æ€§èƒ½ä¼˜åŒ–**: å½•åˆ¶è¿‡ç¨‹ä¸­å¼€é”€æœ€å°

## ğŸ›  æŠ€æœ¯æ ˆ

### å¼€å‘è¯­è¨€ä¸æ¡†æ¶
- **TypeScript**: ä¸»è¦å¼€å‘è¯­è¨€ï¼Œæä¾›ç±»å‹å®‰å…¨
- **Node.js**: è¿è¡Œæ—¶ç¯å¢ƒ
- **VS Code Extension API**: æ‰©å±•å¼€å‘æ¡†æ¶

### æ ¸å¿ƒä¾èµ–
- **simple-git**: Git æ“ä½œåº“ï¼Œç”¨äºè·å–æ–‡ä»¶å·®å¼‚
- **ignore**: è§£æå’Œå¤„ç† `.gitignore` è§„åˆ™

### å¼€å‘å·¥å…·é“¾
- **Webpack**: æ¨¡å—æ‰“åŒ…å·¥å…·
- **ts-loader**: TypeScript ç¼–è¯‘å™¨
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **Mocha**: æµ‹è¯•æ¡†æ¶
- **@vscode/vsce**: VS Code æ‰©å±•æ‰“åŒ…å‘å¸ƒå·¥å…·

## ğŸ— é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„
```
recorder/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ extension.ts        # æ‰©å±•ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ test/              # æµ‹è¯•æ–‡ä»¶
â”‚       â””â”€â”€ extension.test.ts
â”œâ”€â”€ dist/                  # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ icons/                 # æ‰©å±•å›¾æ ‡
â”‚   â””â”€â”€ icon.png
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ webpack.config.js      # Webpack æ‰“åŒ…é…ç½®
â”œâ”€â”€ eslint.config.mjs      # ESLint é…ç½®
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¨¡å—æ¶æ„

#### 1. ä¸»è¦æ¥å£å®šä¹‰
```typescript
interface LogEntry {
  timestamp: number;
  type: "COMMAND" | "FILE_CREATE" | "FILE_DELETE" | "FILE_DIFF" | "FILE_CONTENT" | "FILE_FOCUS";
  path?: string;      // æ–‡ä»¶æ“ä½œè·¯å¾„
  command?: string;   // ç»ˆç«¯å‘½ä»¤
  output?: string;    // å‘½ä»¤è¾“å‡º
  data?: string;      // æ–‡ä»¶å†…å®¹æˆ–å·®å¼‚
}
```

#### 2. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

- **çŠ¶æ€ç®¡ç†**: ç®¡ç†å½•åˆ¶çŠ¶æ€å’Œæ“ä½œæ—¥å¿—
- **äº‹ä»¶ç›‘å¬å™¨**: ç›‘å¬ç»ˆç«¯ã€æ–‡ä»¶ç³»ç»Ÿå’Œç¼–è¾‘å™¨äº‹ä»¶
- **Git é›†æˆ**: æ™ºèƒ½æ£€æµ‹æ–‡ä»¶çŠ¶æ€å¹¶ç”Ÿæˆå·®å¼‚
- **è¿‡æ»¤ç³»ç»Ÿ**: åŸºäº `.gitignore` çš„æ™ºèƒ½æ–‡ä»¶è¿‡æ»¤
- **è¾“å‡ºç®¡ç†**: ç»“æ„åŒ–æ—¥å¿—ç”Ÿæˆå’Œä¿å­˜

#### 3. äº‹ä»¶ç›‘å¬ç³»ç»Ÿ

- **Terminal Shell Execution**: æ•è·ç»ˆç«¯å‘½ä»¤æ‰§è¡Œ
- **File System Watcher**: ç›‘å¬æ–‡ä»¶åˆ›å»º/åˆ é™¤äº‹ä»¶
- **Text Document Save**: ç›‘å¬æ–‡ä»¶ä¿å­˜äº‹ä»¶
- **Active Text Editor Change**: ç›‘å¬æ–‡ä»¶ç„¦ç‚¹å˜åŒ–

## ğŸš€ æœ¬åœ°å¼€å‘ä¸æµ‹è¯•

### ç¯å¢ƒè¦æ±‚

- **Node.js**: 20.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **VS Code**: 1.90.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ç”¨äºå·®å¼‚æ£€æµ‹åŠŸèƒ½

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/TokenRollAI/recorder.git
cd recorder

# å®‰è£…ä¾èµ–
npm install
```

### å¼€å‘å‘½ä»¤

```bash
# ç¼–è¯‘é¡¹ç›®
npm run compile

# ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶è‡ªåŠ¨ç¼–è¯‘
npm run watch

# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint

# ç¼–è¯‘æµ‹è¯•æ–‡ä»¶
npm run compile-tests

# ç›‘å¬æµ‹è¯•æ–‡ä»¶å˜åŒ–
npm run watch-tests

# è¿è¡Œæµ‹è¯•
npm run test

# é¢„å‘å¸ƒæ„å»º
npm run pretest
```

### è°ƒè¯•è¿è¡Œ

1. åœ¨ VS Code ä¸­æ‰“å¼€é¡¹ç›®
2. æŒ‰ `F5` æˆ–ä½¿ç”¨ "Run Extension" è°ƒè¯•é…ç½®
3. è¿™å°†æ‰“å¼€ä¸€ä¸ªæ–°çš„ VS Code æ‰©å±•å¼€å‘ä¸»æœºçª—å£
4. åœ¨æ–°çª—å£ä¸­æµ‹è¯•æ‰©å±•åŠŸèƒ½

### æµ‹è¯•å·¥ä½œæµ

1. **å•å…ƒæµ‹è¯•**: è¿è¡Œ `npm run test` æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
2. **é›†æˆæµ‹è¯•**: åœ¨æ‰©å±•å¼€å‘ä¸»æœºä¸­æ‰‹åŠ¨æµ‹è¯•å„é¡¹åŠŸèƒ½
3. **æ€§èƒ½æµ‹è¯•**: ç›‘æ§å½•åˆ¶è¿‡ç¨‹ä¸­çš„èµ„æºä½¿ç”¨æƒ…å†µ

## ğŸ“¦ æ‰“åŒ…ä¸å‘å¸ƒ

### æœ¬åœ°æ‰“åŒ…

```bash
# ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…
npm run package

# è¿™å°†ç”Ÿæˆä¼˜åŒ–åçš„ä»£ç åˆ° dist/ ç›®å½•
```

### æ‰©å±•æ‰“åŒ… (.vsix)

```bash
# å®‰è£… vsce å·¥å…·ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
npm install -g @vscode/vsce

# æ‰“åŒ…æ‰©å±•
vsce package

# è¿™å°†ç”Ÿæˆ recorder-0.0.3.vsix æ–‡ä»¶
```

### å‘å¸ƒåˆ°å¸‚åœº

```bash
# å‘å¸ƒåˆ° VS Code Marketplace
vsce publish

# æˆ–å‘å¸ƒæŒ‡å®šç‰ˆæœ¬
vsce publish patch  # è¡¥ä¸ç‰ˆæœ¬
vsce publish minor  # å°ç‰ˆæœ¬
vsce publish major  # å¤§ç‰ˆæœ¬
```

### å‘å¸ƒå‰æ£€æŸ¥

1. **ç‰ˆæœ¬å·**: ç¡®ä¿ `package.json` ä¸­çš„ç‰ˆæœ¬å·æ­£ç¡®
2. **æ›´æ–°æ—¥å¿—**: æ›´æ–° `CHANGELOG.md`
3. **æµ‹è¯•**: è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
4. **æ–‡æ¡£**: ç¡®ä¿ README å’Œæ–‡æ¡£æ˜¯æœ€æ–°çš„
5. **è®¸å¯è¯**: ç¡®è®¤ CC-BY-NC-4.0 è®¸å¯è¯ä¿¡æ¯

## ğŸ”§ é…ç½®è¯´æ˜

### package.json å…³é”®é…ç½®

- **engines.vscode**: æœ€ä½æ”¯æŒçš„ VS Code ç‰ˆæœ¬
- **activationEvents**: æ‰©å±•æ¿€æ´»äº‹ä»¶ï¼ˆå¯åŠ¨æ—¶æ¿€æ´»ï¼‰
- **contributes.commands**: æ³¨å†Œçš„å‘½ä»¤
- **enabledApiProposals**: ä½¿ç”¨çš„å®éªŒæ€§ API

### Webpack é…ç½®

- **target**: `node` - Node.js ç¯å¢ƒ
- **entry**: `./src/extension.ts` - å…¥å£æ–‡ä»¶
- **output**: è¾“å‡ºåˆ° `dist/extension.js`
- **externals**: æ’é™¤ vscode æ¨¡å—

### TypeScript é…ç½®

- **target**: ES2022
- **module**: Node16
- **strict**: å¯ç”¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰©å±•æ— æ³•æ¿€æ´»**
   - æ£€æŸ¥ VS Code ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³è¦æ±‚
   - ç¡®ä¿å·²æ‰“å¼€å·¥ä½œåŒºæ–‡ä»¶å¤¹

2. **Git åŠŸèƒ½ä¸å·¥ä½œ**
   - ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Git
   - æ£€æŸ¥å·¥ä½œåŒºæ˜¯å¦ä¸º Git ä»“åº“

3. **æ–‡ä»¶è¿‡æ»¤ä¸æ­£ç¡®**
   - æ£€æŸ¥ `.gitignore` æ–‡ä»¶æ ¼å¼
   - éªŒè¯æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

4. **ç¼–è¯‘é”™è¯¯**
   - æ¸…é™¤ `dist/` ç›®å½•å¹¶é‡æ–°ç¼–è¯‘
   - æ£€æŸ¥ TypeScript ç‰ˆæœ¬å…¼å®¹æ€§

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨å¼€å‘è€…å·¥å…·**: `Help > Toggle Developer Tools`
2. **æŸ¥çœ‹è¾“å‡ºé¢æ¿**: é€‰æ‹© "Extension Host" é¢‘é“
3. **è®¾ç½®æ–­ç‚¹**: åœ¨æºä»£ç ä¸­è®¾ç½®æ–­ç‚¹è¿›è¡Œè°ƒè¯•
4. **æ—¥å¿—è¾“å‡º**: ä½¿ç”¨ `console.log` è¿›è¡Œè°ƒè¯•è¾“å‡º

## ğŸ“ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤å˜æ›´ï¼š`git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª ESLint é…ç½®çš„ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–æ–°åŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ CC-BY-NC-4.0 è®¸å¯è¯ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHub ä»“åº“**: https://github.com/TokenRollAI/recorder
- **é—®é¢˜åé¦ˆ**: https://github.com/TokenRollAI/recorder/issues
- **å®Œæ•´æ–‡æ¡£**: https://recorder-doc.pdjjq.org/
- **VS Code Marketplace**: [å¾…å‘å¸ƒ]

---

**è®°å½•ä¸€æ¬¡ï¼Œè‡ªåŠ¨åŒ–æ°¸è¿œã€‚**